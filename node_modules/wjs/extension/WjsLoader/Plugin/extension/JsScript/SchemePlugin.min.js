// @require JsMethod > inheritMethodLinage
// @require JsMethod > inheritObject
(function(c){c.register("WebComScheme","SchemePlugin",{classExtends:"Binder",type:"Plugin",variables:{elementType:"Element",dom:!1,elements:{},backups:{variables:{},add:{}}},options:{element:{defaults:null,define:function(a,b){b&&this.elementAdd(b);return b}}},elementVariablesList:{},alterList:{},required:[],__construct:function(a){this.required=this.wjs.inheritObject(this,"required",!0);this.__super("__construct",arguments);this.initPlugin(a)},__destruct:function(){this.exitPlugin();this.__super("__destruct",
arguments)},elementAdd:function(a){a&&a.isA(this.elementType)||this.error("element type "+a.typeGlobal+" not allowed for plugin "+this.type+", expected "+this.elementType);this.formulaChangeCallback=a.formulaChangeCallback;for(var b=0,e,d,c=Object.keys(this.required),g,f=[];d=c[b++];)if(0===a.pluginsList.length)f.push(this.required[d]);else for(e=0;g=a.pluginsList[e++];)g.isA(this.required[d].type)||f.push(this.required[d]);a.pluginAddMultiple(f,void 0,!0);this.elements[a.id]=a;this.elementInit(a)},
elementRemove:function(a){this.elementExit(a);delete this.elements[a.id];Object.keys(this.elements).length||this.exit()},elementInit:c._e,elementExit:c._e,initPlugin:c._e,exitPlugin:c._e,elementsCall:function(a,b){this.elementsEach(b?function(e){e.apply(a,b)}:function(b){b[a]()})},elementsEach:function(a){for(var b=0,c=Object.keys(this.elements),d;d=c[b++];)a(this.elements[d])}})})(WjsProto);