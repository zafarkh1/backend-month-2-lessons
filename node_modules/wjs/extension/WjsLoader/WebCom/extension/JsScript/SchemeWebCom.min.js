// @require JsMethod > urlQueryParse
// @require JsMethod > urlQueryReplace
// @require JsMethod > urlQueryParse
// @require JsMethod > urlQueryBuild
// @require JsMethod > isDomNode
// @require JsMethod > domAttributes
// @require JsMethod > wjsIncludeExit
// @require JsMethod > webComExit
// @require JsMethod > isPlainObject
// @require JsMethod > inheritLinage
// @require JsMethod > inheritObject
// @require JsMethod > wjsIncludeInit
// @require JsMethod > inheritProperty
// @require JsMethod > isPlainObject
// @require JsMethod > cssSheetRules
// @require JsMethod > wjsHrefInit
// @require JsMethod > cssAnimateCallback
// @require JsMethod > cssAnimateStop
// @require JsMethod > extend
// @require JsMethod > isPlainObject
// @require JsMethod > isPlainObject
// @require JsMethod > inheritProperty
(function(p){var q=/(?:{|%7B){2}((?:.(?!{|%7B))*)(?:}|%7D){2}/g;p.register("WebComScheme","SchemeWebCom",{classExtends:null,type:"WebCom",id:"",variables:{optionsInternal:{},optionsApplied:{},optionsDestroyed:{},optionsData:{},domChildren:{},domIncludes:[],classLoadsNames:["fadeIn","loaded","fadeOut","fadeOutChildren"],classLoads:{typeGlobal:!0},cssStyleNames:{},readyCallbacks:[],requiredInstances:{},webComConstruct:!1},options:{require:{defaults:!1,define:function(a,b,c){a.optionApply("dom",c);b&&
(a.requiredInstances=a.createInstances(b))},destroy:function(a,b){b&&a.destroyInstances(b,a.requiredInstances)}},urlHistory:{defaults:!1,unique:!1,define:function(a,b){if(b){var c=this.wjs,d=a.loader.type,e=c.urlQueryParse();e[d]=e[d]||{};this.unique?e[d]!==a.type&&(e[d]=a.type):e[d][a.id]=a.type;c.urlQueryReplace(e)}},destroy:function(a){var b=a.loader.type,c=this.wjs.urlQueryParse();c[b]&&(this.unique?delete c[b]:delete c[b][a.id],this.wjs.window.history.replaceState(null,null,"?"+this.wjs.urlQueryBuild(c)))}},
cssClassInteraction:{defaults:null,define:function(a,b){return b?b:a.typeGlobal}},dom:{defaults:!1,cssClasses:{defaults:[]},define:function(a,b,c){if(b=!0===b||"object"!==typeof b&&"string"===typeof c.html?"div":b){a.optionApply("cssSheets",c);a.optionApply("cssClasses",c);a.optionApply("cssClassInteraction",c);a.optionApply("domImported",c);c=0;var d;d=a.optionsData.dom={};var e=this.wjs;d.domCreated=!e.isDomNode(b);b=d.domCreated?e.document.createElement(b):b;d.attributes=e.extendObject({},e.domAttributes(b));
b.setAttribute("id",a.id);d.className=b.className;if(a.cssClasses)for(;d=a.cssClasses[c++];)b.classList.add(d);return b}},destroy:function(a){if(a.dom){var b,c=0,d=a.optionsData.dom;b=Object.keys;for(var e=b(a.wjs.domAttributes(a.dom)).concat(b(d.attributes));b=e[c++];)d.attributes[b]?a.dom.setAttribute(b,d.attributes[b]):a.dom.removeAttribute(b);(a.domImported||a.optionsData.dom.domCreated)&&a.dom.parentNode.removeChild(a.dom)}}},domImported:{defaults:!1},domDestination:{defaults:null,define:function(a,
b,c){a.optionApply("dom",c);(b||a.dom&&!a.dom.parentNode)&&a.dom&&a.dom!==a.wjs.document.body&&(b=b||a.wjs.document.body,"string"===typeof b&&(b=a.wjs.document.querySelector(b)),b.appendChild(a.dom))}},html:{defaults:!1,autoInit:!1,define:function(a,b,c){"string"===typeof b&&(a.optionApply("dom",c),a.domChildAdd("html","div",b))}},cssSheets:{defaults:[],define:function(a,b){var c=a.wjs.extRequire[a.loader.type];return c&&c[a.type]?c[a.type].CssLink:b}},cssFadeIn:{defaults:!1,define:function(a,b,c){a.optionApply("dom",
c);if(a.dom){c=a.classLoads;var d,e,f=a.cssSheets;if(f.length)for(d=0;e=f[d++];)e=this.wjs.get("CssLink",e),a.cssRulesClassSearch(e.sheet,a.typeGlobal)&&(c.typeGlobal=!0);c.typeGlobal&&a.dom.classList.add(a.typeGlobal);d=function(){a.domClassLoadRemove("fadeIn");a.domClassLoadAdd("loaded");b&&b.call(a)};c.fadeIn?a.domClassLoadAdd("fadeIn",d):this.wjs.async(d)}}},cssFadeOut:{defaults:!1,define:function(a,b){a.optionsData.cssFadeOut=b},fadeOut:function(a){if(a.dom){a.domClassLoadAdd("fadeOutChildren");
var b=this,c=function(){a.optionsData.cssFadeOut&&a.optionsData.cssFadeOut();a.__destructFadeOutOptionComplete()};b.wjs.wjsIncludeExit(a.domIncludes,function(){b.wjs.webComExit(a.requiredInstances,function(){"number"===typeof a.classLoads.fadeOut?(a.__destructOptionsWaiting=!0,a.domClassLoadAdd("fadeOut",c)):c()})})}else a.__destructFadeOutOptionComplete()}}},optionsDefault:{},mixin:[],__construct:function(a){var b=this.wjs,c=0,d=[],e={},f;b.extendObject(e,this.optionsDefault);b.extendObject(e,a||
{});a=this.variables;this.variables={};this.variableInitMultiple(a);this.readonly("id","w"+b.loaders.WebCom.webCompCounter);this.loader.instances[this.id]=this;this.loader.instanceRegister(this);for(b=Object.keys(this.options);a=b[c++];)f=this.options[a],f.autoInit&&d.push(a),f.required&&void 0===e[a]&&void 0===f.defaults&&this.error('Missing option "'+a+'" and no defaults value');b=Object.keys(e);for(c=0;a=b[c++];)this.options[a]||d.push(a);this.optionApplyMultiple(d,e);this.optionApply("html",e);
this.webComConstruct=!0;return e},__destructFadeOutCount:1,__destructComplete:!1,__destruct:function(a){var b=0,c=Object.keys(this.options);for(this.__destructComplete=a;a=c[b++];)this.options[a].fadeOut&&(this.__destructFadeOutCount++,this.options[a].fadeOut(this));this.__destructFadeOutOptionComplete()},__destructFadeOutOptionComplete:function(){0===--this.__destructFadeOutCount&&this.__destructFadeOutComplete()},__destructFadeOutComplete:function(){for(var a=0,b=Object.keys(this.options),c;c=this.options[b[a++]];)this.optionDestroy(c);
for(a=0;c=this.optionsInternal[b[a++]];)this.optionDestroy(c),this.loader.optionDestroy(c);var d=this;this.wjs.async(function(){delete d.wjs.loaders.WebCom.webComList[d.id];d.loader.instanceRemove(d);delete d._inheritMethodBases;delete d._inheritMethodPass;Object.seal(d);d.__destructComplete&&d.__destructComplete()})},__super:function(a,b){var c,d=this.__superProtos[a],e=c=d||this;do if(!(e=Object.getPrototypeOf(e)))return;while(!Object.getOwnPropertyDescriptor(e,a)||e[a]===c[a]);this.__superProtos[a]=
e;c=this.__superProtos[a][a].apply(this,b);this.__superProtos[a]=d;return c},exit:function(a){this.__destruct(a)},cssRulesClassSearch:function(a,b){var c,d,e,f=!1,g,h,m,k,l=this.classLoads,n;c=this.wjs.cssSheetRules(a);for(d=0;k=c[d++];)if(k.selectorText)for(e=0;g=this.classLoadsNames[e++];)n=!1,h="."+b+"."+g,m="."+g+"."+b,-1!==k.selectorText.indexOf(h)?n=h:-1!==k.selectorText.indexOf(m)&&(n=m),n&&!1!==l[g]&&(l[g]=l[g]||0,f=!0,m=RegExp("[\\s\\S]*"+n.split(".").join("\\.")+"[^.]*$"),h=this.cssRuleDuration(k),
m.test(k.selectorText)?l[g]=h:h>l[g]&&(l[g]=h));return f},cssRuleDuration:function(a){var b,c;b=0+((c=this.cssRuleNumberValue(a,"animationDuration"))?c:0);return b+=(c=this.cssRuleNumberValue(a,"animationDelay"))?c:0},cssRuleNumberValue:function(a,b){var c;b=this.wjs.cssVendorPrefix(b);return a.style[b]?(c=parseFloat(a.style[b].replace(",",".")),isNaN(c)?0:c):!1},method:function(a){return this[this.methodName(a)]},methodName:function(a){return"__"+a.split(".").join("__")},domChildAdd:function(a,b,
c){this.domChildren[a]||(b="object"===typeof b?b:this.wjs.document.createElement(b||"div"),b.classList.add(a),b.parentNode||this.dom.appendChild(b),this.domChildren[a]=b);this.domChildFill(a,c);return this.domChildGet(a)},domChildGet:function(a){return this.domChildren[a]},domChildFill:function(a,b){var c=this.domChildGet(a),d;if(b){for(;d=q.exec(b);)b=b.substring(0,d.index)+this[d[1]]+b.substring(d.index+d[0].length);c.innerHTML=b}this.wjs.wjsHrefInit(c);this.domParseInclude()},domParseInclude:function(a){a=
a||{};a.domDestination=a.domDestination||this.dom;this.domIncludes=this.domIncludes.concat(this.wjs.wjsIncludeInit(this.dom,a))},domClassLoadAdd:function(a,b){"number"===typeof this.classLoads[a]&&(b&&this.wjs.cssAnimateCallback(this.dom,b,1E3*this.classLoads[a]),this.dom.classList.add(a))},domClassLoadRemove:function(a){var b=this.domChildGet("html");this.dom.classList.remove(a);b&&this.wjs.cssAnimateStop(b)},variableInit:function(a,b){Object.defineProperty(this,a,{set:function(b){return this.__variableSet(a,
b)},get:function(){return this.__variableGet(a)},enumerable:!0,configurable:!0});var c=Array.isArray(b);if(this.wjs.isPlainObject(b)||c)b=this.wjs.extend(c?[]:{},b);this.variableSet(a,b)},readonly:function(a,b){Object.defineProperty(this,a,{writable:!1,value:b})},variableInitMultiple:function(a){for(var b=0,c=Object.keys(a),d;d=c[b++];)this.variableInit(d,a[d])},__variableSet:function(a,b){this.variables[a]=b},variableSet:function(a,b){this[a]=b},variableGet:function(a){return this[a]},__variableGet:function(a){return this.variables[a]},
optionApplyMultiple:function(a,b){for(var c=0,d;d=a[c++];)this.optionApply(d,b)},optionApply:function(a,b){var c=this.options[a];c||(c=this.optionsInternal[a]=this.loader.optionCreate(this,"BasicWebComOptionDefault#"+a+"#"+this.id,a,{defaults:b[a]}));c.optionApply(this,b?b[a]:void 0,b)},optionDestroy:function(a){a.optionDestroy(this)},createInstances:function(a){var b=this,c=[];b.wjs.regEach(a,function(a,e){c.push(b.createInstance(a,e))});return c},createInstance:function(a,b,c){c=c||{};c.domDestination=
c.domDestination||this.dom;return this.wjs.loaders[a].instance(b,c)},destroyInstances:function(a){for(var b=this,c=0,d=0,e,f=a.length,c=0;e=a[c++];)e.exit(function(){++d===f&&b.wjs.destroy(request)});return a},isA:function(a){return-1!==this.wjs.inheritProperty(this,"type").indexOf(a)},error:function(a){throw Error(a+" in "+this.typeGlobal+" #"+this.id);}})})(WjsProto);