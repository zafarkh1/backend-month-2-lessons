// @require JsScript > SchemeWebCom
// @require JsMethod > urlHistory
(function(f){f.register("WebComScheme","SchemeWebPage",{classExtends:"WebCom",type:"WebPage",options:{urlAlias:{defaults:!1},urlHistory:{defaults:!0,unique:!0,define:function(a,b,c){a.optionApply("urlAlias",c);b=a.urlAlias||b;"string"===typeof b?this.wjs.urlHistory("WJS_PUSH_WEBPAGE_PRELOADED"===c.html?"replace":"push","[root]"!==b?b:"",void 0,{type:a.loader.type,name:a.type}):this.__super("define",[a,b,c]);return b}},title:{define:function(a,b){var c=a.wjs.get("JsObject","WebsiteInfo").pageTitle;
a.wjs.window.document.title=(c||"")+b;return b}},previous:{defaults:!1},next:{defaults:!1},requireStatic:{defaults:!1,define:function(a,b){var c={},d={},e={};a.loader.pageRequireStatic&&a.wjs.regEach(a.loader.pageRequireStatic,function(a,c){b&&b[a]&&-1!==b[a].indexOf(c)?(d[a]=d[a]||[],d[a].push(c)):(e[a]=e[a]||[],e[a].push(c))});Object.keys(e).length&&a.destroyInstances(a.loader.pageInstances);b&&a.wjs.regEach(b,function(a,b){d[a]&&-1!==d[a].indexOf(b)||(c[a]=c[a]||[],c[a].push(b))});Object.keys(c).length&&
(a.loader.pageInstances=a.createInstances(c));a.loader.pageRequireStatic=b}},require:{defaults:!1,define:function(a,b,c){a.optionApply("requireStatic",c);this.__super("define",[a,b,c])}},dom:{define:function(a,b,c){"WJS_PUSH_WEBPAGE_PRELOADED"===c.html&&(c.domImported=!0,a.optionApply("domImported",c),b=this.wjs.document.getElementById(a.type+"-preloaded"),b.style.display=null);a=this.__super("define",[a,b,c]);this.wjs.wjsHrefInit(a);return a}},html:{define:function(a,b,c){a.optionApply("dom",c);
"WJS_PUSH_WEBPAGE_PRELOADED"!==b?this.__super("define",[a,b,c]):(b=a.dom.getElementsByClassName("html")[0],a.options.html.valuePreloaded=b.innerHTML,a.domChildAdd("html",b))},destroy:function(a,b){"WJS_PUSH_WEBPAGE_PRELOADED"!==a.html?this.__super("destroy",[a,b]):(this.wjs.extLoaded[a.loader.type][a.type].html=a.options.html.valuePreloaded,this.wjs.destroy(a.loader.type,a.type))}}},__construct:function(){this.loader.pageCurrent=this;this.__super("__construct",arguments);this.initWebPage();this.wjs.callbacks(this.loader.pageReadyCallbacks);
this.loader.pageReadyCallbacks=[];this.loader.pageShowLast=void 0},__destruct:function(){this.exitWebPage();this.loader.pageCurrent=!1;this.__super("__destruct",arguments)},initWebPage:f._e,exitWebPage:f._e})})(WjsProto);