(function(m){m.register("JsClass","MathQuaternion",{__construct:function(b,c,a,d){this._x=b||0;this._y=c||0;this._z=a||0;this._w=void 0!==d?d:1},get x(){return this._x},set x(b){this._x=b;this.onChangeCallback()},get y(){return this._y},set y(b){this._y=b;this.onChangeCallback()},get z(){return this._z},set z(b){this._z=b;this.onChangeCallback()},get w(){return this._w},set w(b){this._w=b;this.onChangeCallback()},setFromAxisAngle:function(b,c){var a=c/2,d=Math.sin(a);this._x=b.x*d;this._y=b.y*d;this._z=
b.z*d;this._w=Math.cos(a);this.onChangeCallback();return this},setFromRotationMatrix:function(b){var c=b.elements,a=c[0];b=c[4];var d=c[8],f=c[1],e=c[5],g=c[9],h=c[2],k=c[6],c=c[10],l=a+e+c;0<l?(a=0.5/Math.sqrt(l+1),this._w=0.25/a,this._x=(k-g)*a,this._y=(d-h)*a,this._z=(f-b)*a):a>e&&a>c?(a=2*Math.sqrt(1+a-e-c),this._w=(k-g)/a,this._x=0.25*a,this._y=(b+f)/a,this._z=(d+h)/a):e>c?(a=2*Math.sqrt(1+e-a-c),this._w=(d-h)/a,this._x=(b+f)/a,this._y=0.25*a,this._z=(g+k)/a):(a=2*Math.sqrt(1+c-a-e),this._w=
(f-b)/a,this._x=(d+h)/a,this._y=(g+k)/a,this._z=0.25*a);this.onChangeCallback();return this},multiply:function(b){return this.multiplyQuaternions(this,b)},multiplyQuaternions:function(b,c){var a=b._x,d=b._y,f=b._z,e=b._w,g=c._x,h=c._y,k=c._z,l=c._w;this._x=a*l+e*g+d*k-f*h;this._y=d*l+e*h+f*g-a*k;this._z=f*l+e*k+a*h-d*g;this._w=e*l-a*g-d*h-f*k;this.onChangeCallback();return this},onChange:function(b){this.onChangeCallback=b;return this},onChangeCallback:function(){}})})(WjsProto);